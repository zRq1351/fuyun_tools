# 🚀 fuyun_tools

## 🎯 使用说明

fuyun_tools是一款集剪切板管理和AI划词功能于一体的桌面效率工具，运行在系统托盘中。通过智能化的历史记录管理和AI辅助功能，大幅提升日常工作效率。

## 💻 技术栈

- **前端**: HTML/CSS/JavaScript（原生Web技术，无框架依赖）
- **后端**: Rust + Tauri 2.0
- **AI集成**: async-openai库，支持多种OpenAI兼容服务
- **安全加密**: api_key加密存储保护敏感凭证

## 🌍 兼容性

| 功能        | Windows | Linux  | macOS  |
|-----------|---------|--------|--------|
| **剪切板管理** | ✅ 完全支持  | ✅ 完全支持 | ✅ 完全支持 |
| **划词功能**  | ✅ 完全支持  | ❌ 不支持  | ❌ 不支持  |
| **系统托盘**  | ✅ 完全支持  | ✅ 完全支持 | ✅ 完全支持 |

> ⚠️ **划词功能说明**: 目前划词功能仅在Windows平台完全支持，Linux和macOS平台暂未实现相关功能。

## 🌟 核心功能

### 📋 剪切板管理

- **智能历史记录**: 自动记录所有剪切板内容，支持文本、图片等多种格式
- **快捷唤出**: 默认快捷键 `Ctrl+Shift+K`（macOS: `Cmd+Shift+K`）快速访问历史记录
- **多维度导航**: 支持键盘方向键、鼠标滚轮、触摸拖拽等多种操作方式
- **智能填充**: 选中历史记录后自动复制到剪贴板并填充到目标输入框
- **容量管理**: 可配置最大历史记录数（1-1000条），自动清理旧记录

### 🔤 AI划词助手 (Windows专属)

- **实时翻译**: 选中文本后一键翻译，支持多种语言互译
- **智能解释**: 对复杂文本提供通俗易懂的解释说明
- **流式输出**: AI响应内容实时流式显示，无需等待完整结果
- **多语言支持**: 英文、中文、日文、韩文、法文、德文、西班牙文等

> ⚠️ **平台限制**: 此功能目前仅在Windows平台可用，Linux和macOS用户无法使用划词功能。

### 🤖 AI服务集成

- **多提供商支持**: 内置DeepSeek、通义千问、小米Mimo等主流AI服务
- **自定义配置**: 支持添加任意OpenAI兼容的第三方AI服务
- **安全密钥管理**: API密钥加密存储，动态解密使用，保障凭证安全
- **连接测试**: 内置API连通性测试功能，确保配置正确

### ⚙️ 系统集成

- **系统托盘运行**: 常驻系统托盘，资源占用极低
- **热键自定义**: 支持自定义快捷键组合
- **主题切换**: 支持深色/浅色主题，适配不同使用环境
- **自动更新**: 内置自动更新机制，保持软件最新版本
- **日志管理**: 完整的操作日志记录，便于问题排查

## 📥 下载安装

> ⚠️ **注意**: Gitee版本可能不是最新版，建议优先从GitHub下载

| 平台     | 下载地址                                                        | 状态       |
|--------|-------------------------------------------------------------|----------|
| GitHub | [📥 最新版下载](https://github.com/zRq1351/fuyun_tools/releases) | ✅ 推荐     |
| Gitee  | [📥 国内镜像](https://gitee.com/zrq1351/fuyun_tools/releases)   | ⚠️ 可能非最新 |

### 🖥️ 系统要求

- **Windows**: Windows 10及以上版本
- **Linux**: 支持大多数发行版（需安装相应依赖）
- **macOS**: macOS 10.15及以上版本

### 📦 安装说明

1. 从上述链接下载对应平台的安装包
2. Windows用户运行 `.exe` 安装程序
3. Linux用户下载 `.AppImage` 或 `.deb` 包
4. macOS用户下载 `.dmg` 镜像文件
5. 首次运行会自动创建配置文件

## 🚀 快速上手

> 📢 **版本 0.3.0 重要更新**：本次更新重点提升了划词功能的稳定性和用户体验，增加了智能重试机制和安全保护措施。

### 🆕 新增功能亮点

**划词捕获优化**

- ✨ 智能重试机制：自动重试长达2秒，大幅提升捕获成功率
- 🔒 安全保护：防止意外覆盖用户手动复制的重要内容
- 📊 状态管理：优化了处理状态的清理机制

**性能提升**

- ⚡ 锁优化：减少锁竞争，提高并发性能
- 🌟 用户体验：窗口切换更流畅，删除操作更准确

**AI功能增强**

- 🎯 智能配置校验：使用前自动检查配置完整性
- 💬 友好错误提示：配置问题时提供清晰的中文指导

### 📋 剪切板使用

1. **唤出历史面板**：按下默认快捷键 `Ctrl+Shift+K`（macOS: `Cmd+Shift+K`）
2. **浏览记录**：
    - 🔼🔽 使用 `↑` `↓` 方向键上下导航
    - 🖱️ 鼠标滚轮或触摸拖拽浏览
    - 📱 支持触摸屏手势操作
3. **选择内容**：
    - ⌨️ 按 `Enter` 键确认选择
    - 🖱️ 鼠标双击选中条目
    - 📱 触摸点击确认
4. **关闭面板**：
    - 按 `Esc` 键
    - 点击界面外区域
    - 确认选择后自动关闭

### 🔤 划词功能 (仅Windows支持)

> ⚠️ **重要提醒**: 划词功能目前仅在Windows平台可用，Linux和macOS用户暂时无法使用此功能。

**使用技巧**：

- 选中文本后耐心等待工具栏出现（智能重试机制会自动处理延迟）
- 如遇捕获失败，请检查目标应用是否阻止模拟按键操作
- 可以尝试以管理员身份运行应用获得更好兼容性

1. **激活划词**：在任意应用中选中文本
2. **使用工具栏**：选中文本后会出现浮动工具栏
3. **功能选项**：
    - 🟢 **翻译** - AI智能翻译选中文本
    - 🔵 **解释** - 详细解释文本含义
    - 🟠 **复制** - 复制选中文本到剪贴板
4. **查看结果**：翻译或解释结果会在新窗口中流式显示

> ⚠️ **重要提醒**: 划词功能目前仅在Windows平台可用，Linux和macOS用户暂时无法使用此功能。

### ⚙️ AI配置

1. **打开设置**：右键系统托盘图标 → 设置
2. **选择提供商**：
    - 内置选项：DeepSeek、通义千问、小米Mimo
    - 自定义：添加任意OpenAI兼容服务
3. **填写配置**：
    - API服务地址
    - 模型名称
    - API密钥（自动加密存储）
4. **测试连接**：点击测试按钮验证配置正确性
5. **保存设置**：确认无误后保存配置

📺 [观看演示视频](https://www.bilibili.com/video/BV1bwBSBUE8k)

### ⚙️ 系统托盘菜单

右键点击系统托盘图标可访问完整功能菜单：

#### 🧹 清理功能

- **清除记录** - 彻底清空所有剪切板历史记录
- **清除日志** - 删除应用程序日志文件，释放磁盘空间

#### 🔧 管理功能

- **打开日志目录** - 在文件管理器中定位日志文件位置
- **重新加载配置** - 重新加载应用配置文件
- **开发者工具** - 打开调试控制台（开发模式）

#### ⚙️ 设置功能

- **设置** - 打开应用设置界面
- **检查更新** - 手动检查软件更新
- **关于** - 查看软件版本和版权信息

#### 🚪 退出功能

- **退出** - 完全退出应用程序，停止所有后台服务

## 🔧 高级配置

### 自定义快捷键

在设置界面可以自定义各种操作的快捷键组合，支持Ctrl、Alt、Shift等修饰键。

### 主题定制

支持深色和浅色两套主题，可根据个人喜好和使用环境自由切换。

### 日志级别

可调整日志详细程度，从基本操作记录到详细调试信息。

### 启动选项

- **开机自启**：设置应用随系统启动自动运行
- **最小化启动**：启动时直接最小化到系统托盘

## 🔒 安全特性

- **密钥加密**：所有API密钥使用自研算法加密存储
- **动态解密**：仅在使用时临时解密，内存中不留明文
- **权限控制**：严格限制文件访问和网络请求权限
- **沙箱运行**：Tauri框架提供的安全沙箱环境

## 🐛 故障排除

### 常见问题

**Q: 剪切板历史不更新？**
A: 检查是否授予了必要的系统权限，重启应用试试。

**Q: 划词功能无法使用？**
A: 确认您在Windows环境下使用，此功能目前仅支持Windows平台。Linux和macOS用户暂时无法使用划词功能。

**Q: 划词经常失败怎么办？**
A: 新版本已加入智能重试机制，如仍有问题可尝试：

- 以管理员身份运行应用
- 检查目标应用是否阻止模拟按键
- 确认快捷键未被其他程序占用

**Q: AI功能连接失败？**
A: 检查网络连接，确认API配置正确，测试API连通性。

**Q: 快捷键无效？**
A: 检查快捷键是否被其他应用占用，尝试更换快捷键组合。

**Q: 为什么Linux/macOS不支持划词？**
A: 划词功能需要特定的系统级API支持，目前仅在Windows平台实现了完整的划词检测机制。我们正在考虑为其他平台添加类似功能。

### 获取帮助

- 📖 [查看完整文档](https://github.com/zRq1351/fuyun_tools/wiki)
- 🐛 [提交问题反馈](https://github.com/zRq1351/fuyun_tools/issues)
- 💬 [加入讨论群组](https://github.com/zRq1351/fuyun_tools/discussions)

## 📈 版本更新

### 🆕 v0.3.0 (2026-02-05)

**主要改进：**

- 🚀 划词捕获智能重试机制（最大2秒等待）
- 🔒 安全的剪贴板恢复保护
- ⚡ 锁粒度优化提升并发性能
- 🎯 AI配置智能校验与友好错误提示
- 🌟 前端用户体验多项优化

**详细变更日志请查看：** [CHANGELOG.md](CHANGELOG.md)

### 历史版本

应用内置自动更新功能，也可手动检查更新：
设置 → 关于 → 检查更新

建议保持软件为最新版本以获得最佳体验和安全修复。

应用内置自动更新功能，也可手动检查更新：
设置 → 关于 → 检查更新

建议保持软件为最新版本以获得最佳体验和安全修复。

---

*fuyun_tools - 让你的工作效率飞起来！* 🚀
