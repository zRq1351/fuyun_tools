---
trigger: always_on
---

每次由通义灵码生成或修改 Rust 代码后，必须按以下顺序执行操作：
立即运行 cargo check 修复警告与错误。
目的：快速验证语法、类型和编译状态，不生成二进制文件；
要求：必须修复所有 error 和 warning，包括：
未使用的变量或导入；
类型不匹配；
生命周期问题；
仅当 cargo check 通过且无任何警告后，才可进行下一步。
运行 cargo tauri dev 启动开发服务器
用于实时预览 Tauri 应用，验证功能是否正常；

## 1. 注释规范（核心要求）

- 前端注释
    - html css不要有注释。 js与html页面的js代码不要在方法里面写注释，方法上可以有注释说明方法的作用
- 后端注释
- **禁止使用行注释**（`// ...`）。任何解释性、说明性文字不得以 `//` 形式出现。
- **所有注释必须使用 Rust 标准文档注释语法**：
    - 使用 `///` 为 **函数、结构体、枚举、方法、常量等项** 添加文档；
    - 使用 `//!` 为 **模块文件或 crate 根** 添加整体说明；
- 文档注释必须使用 **中文**，语义清晰，避免复述代码。
- 文档注释应包含：
    - 功能简述；
    - 参数说明（如适用）；
    - 返回值说明

## 2使用 Rust 2021 edition；

- 优先使用 Result<T, E> 和 Option<T> 处理控制流；
- 避免使用 unwrap()、expect()、panic!
- 所有公共 API 必须有 /// 文档注释；
- 私有函数若逻辑复杂，也应添加 /// 注释。
- 方法内部不要有注释